
<!DOCTYPE html>
<html lang="it">
<head>

     <!-- script pdf-->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

  
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ZARA FORMAGGI di Zara Maurizio</title>

  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>

  <style>
    :root {
      --verde-scuro: #2f4f2f;
      --verde-chiaro: #8fbc8f;
      --giallo-ocra: #c9a602;
      --caldo: #f4e2d8;
    }

    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background-color: var(--caldo);
      color: #333;
    }

    header {
      background-color: var(--verde-scuro);
      color: white;
      padding: 1rem;
      text-align: center;
    }

    .header-logo img {
      width: 100px;
      height: auto;
      margin-bottom: 0.5rem;
    }

    .header-title h1 {
      margin: 0;
    }

    .header-subtitle {
      margin-top: 0.5rem;
      font-size: 1.1rem;
    }

    nav {
      background-color: var(--verde-chiaro);
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
    }

    nav a {
      color: white;
      padding: 1rem;
      text-decoration: none;
      font-weight: bold;
      cursor: pointer;
    }

    nav a:hover {
      background-color: var(--giallo-ocra);
    }

    .section {
      padding: 2rem;
      display: none;
    }

    .section.active {
      display: block;
    }

    .gallery-placeholder {
      border: 2px dashed var(--verde-scuro);
      padding: 2rem;
      text-align: center;
      background-color: #fff;
    }

    footer {
      background-color: var(--verde-scuro);
      color: white;
      text-align: center;
      padding: 1rem;
    }

    .search-bar {
      margin: 1rem auto;
      text-align: center;
    }

    .search-bar input {
      padding: 0.5rem;
      width: 80%;
      max-width: 400px;
      border: 1px solid #ccc;
      border-radius: 4px;
    }

    #map {
      width: 100%;
      max-width: 800px;
      height: 50vh;
      min-height: 300px;
      margin: 1rem auto;
      border: 2px solid var(--verde-scuro);
      border-radius: 8px;
    }

    .card-container {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
      justify-content: center;
    }

    .card {
      background-color: #fff8ed;
      border: 1px solid #ccc;
      border-radius: 12px;
      width: 300px;
      padding: 1rem;
      text-align: center;
    }

    .card img {
      width: 100%;
      border-radius: 8px;
      height: auto;
    }

    .card h3 {
      margin-top: 0.5rem;
      color: #5d4037;
    }

    .card p {
      font-size: 0.95em;
      color: #4e342e;
    }

    @media (max-width: 600px) {
      nav a { padding: 0.5rem; }
      .card { width: 100%; }
    }
  </style>
</head>
<body>

<!-- CARRELLO FISSO IN ALTO A DESTRA -->
<div id="floating-cart" style="position:fixed;top:20px;right:20px;background:#fff;border:1px solid #ccc;padding:10px 15px;border-radius:8px;box-shadow:0 2px 8px rgba(0,0,0,0.2);z-index:999;">
  <strong>🛒 Carrello:</strong> <span id="floating-total">€0.00</span>
</div>
  
  <header>
    <div class="header-logo">
      <img src="logo.png" alt="Logo Zara Formaggi" />
    </div>
    <div class="header-title">
      <h1>ZARA FORMAGGI</h1>
      <div class="header-subtitle">di Zara Maurizio</div>
    </div>
    <p>Rivendita di Prodotti tipici Sardi e tanto altro</p>
  </header>

  <nav>
    <a onclick="showSection('home')">Home</a>
    <a onclick="showSection('prodotti')">Acquista i nostri prodotti</a>
    <a onclick="showSection('galleria')">Galleria</a>
    <a onclick="showSection('chi-siamo')">Chi siamo</a>
    <a onclick="showSection('servizi')">Servizi</a>
    <a onclick="showSection('dove')">Dove ci trovi</a>
    <a onclick="showSection('contatti')">Contatti</a>
  </nav>

  <div class="search-bar">
    <input type="text" placeholder="Cerca nel sito..." />
  </div>

  <main>
    <section id="home" class="section active">
      <h2>Benvenuti!</h2>
      <p>Visita il sito per scoprire i nostri prodotti. Offriamo una selezione di eccellenze enogastronomiche sarde, con attenzione alla qualità, alla tradizione e al gusto autentico.</p>
    </section>

    <section id="chi-siamo" class="section">
      <h2>Chi siamo</h2>
      <p>ZARA FORMAGGI nasce dalla passione per i sapori autentici della Sardegna. Fondata da Maurizio Zara, l’attività si dedica alla selezione e vendita di prodotti tipici come formaggi, salumi, dolci e molto altro. Tradizione e qualità sono il nostro marchio.</p>
    </section>

<section id="prodotti" class="section">
      <h2>I nostri prodotti</h2>
      <div class="card-container">
        <div class="card">
          <img src="https://images" alt="Vecchio Capraro" />
          <h3>Vecchio Capraro</h3>
          <p>Caprino stagionato da latte crudo, aromatico e dal gusto deciso.</p>
        </div>
        <div class="card">
          <img src="https" alt="Cuor di Latte" />
          <h3>Cuor di Latte</h3>
          <p>Formaggio fresco caprino, soffice e delicato. Perfetto da spalmare o gustare con miele e confetture.</p>
        </div>
        
        <!-- SHOPPING AVANZATO -->
<section id="shop" style="padding: 2rem; font-family: Arial, sans-serif; background-color: #fff8f0;">
  <div style="max-width: 800px; margin: auto;">
    <h2 style="text-align: center; color: #6b3e26;">🧀 Acquista i nostri prodotti</h2>

    <div id="product-list" style="display: flex; flex-wrap: wrap; justify-content: center; gap: 1rem; margin-bottom: 2rem;"></div>

    <form id="order-form" action="https://formspree.io/f/xpwrplgn" method="POST">
      <h3>🛒 Carrello</h3>
      <ul id="cart" style="list-style: none; padding: 0;"></ul>
      <p><strong>Totale: <span id="total">€0.00</span></strong></p>

      <h4>📦 Consegna</h4>
      <label><input type="radio" name="consegna" value="spedizione" required> Spedizione</label><br>
      <label><input type="radio" name="consegna" value="ritiro"> Ritiro in sede</label><br><br>

      <input type="text" name="nome" placeholder="Nome e Cognome" required><br><br>
      <input type="email" name="email" placeholder="Email" required><br><br>
      <textarea name="indirizzo" placeholder="Indirizzo per spedizione (se richiesto)" rows="3"></textarea><br><br>

      <input type="hidden" name="ordine" id="ordineHidden">

      <button type="submit" style="background-color: #6b3e26; color: white; padding: 0.75rem; border: none; border-radius: 5px;">📨 Invia Ordine</button>
      <button type="button" onclick="downloadPDF()" style="margin-left:10px;background:#555;color:white;padding:10px 20px;border:none;border-radius:5px;">💾 Salva PDF</button>
    </form>

    <br>
    <h4>Paga con PayPal:</h4>
    <div id="paypal-button-container"></div>
  </div>
</section>

<!-- SCRIPT: prodotti, carrello, PayPal -->
<script src="https://www.paypal.com/sdk/js?client-id=sb&currency=EUR"></script>
<script>
const products = [
  { id: 1, name: "Cuor di Latte", price: 6.5 },
  { id: 2, name: "Vecchio Capraro", price: 9.0 },
  { id: 3, name: "Gran Sirai", price: 12.0 }
];
let cart = [];

function renderProducts() {
  const list = document.getElementById("product-list");
  list.innerHTML = "";
  products.forEach(p => {
    const box = document.createElement("div");
    box.style = "border:1px solid #ccc; padding:1rem; width:200px; border-radius:10px; background:#fff;";
    box.innerHTML = `
      <h4>${p.name}</h4>
      <p>€${p.price.toFixed(2)}</p>
      <button onclick="addToCart(${p.id})" style="background:#8c5b3f; color:#fff; border:none; padding:0.5rem; border-radius:5px;">Aggiungi</button>
    `;
    list.appendChild(box);
  });
}

function addToCart(id) {
  const prod = products.find(p => p.id === id);
  const found = cart.find(c => c.id === id);
  if (found) found.qty++;
  else cart.push({ ...prod, qty: 1 });
  renderCart();
}

function renderCart() {
  const list = document.getElementById("cart");
  list.innerHTML = '';
  let total = 0;
  cart.forEach(item => {
    total += item.price * item.qty;
    const li = document.createElement("li");
    li.textContent = `${item.name} x${item.qty} = €${(item.qty * item.price).toFixed(2)}`;
    list.appendChild(li);
  });
  document.getElementById("total").textContent = `€${total.toFixed(2)}`;
  document.getElementById("ordineHidden").value = cart.map(i => `${i.name} x${i.qty}`).join(', ') + ` | Totale: €${total.toFixed(2)}`;
}

paypal.Buttons({
  createOrder: function(data, actions) {
    const total = cart.reduce((acc, item) => acc + item.price * item.qty, 0);
    return actions.order.create({
      purchase_units: [{
        amount: {
          value: total.toFixed(2)
        }
      }]
    });
  },
  onApprove: function(data, actions) {
    return actions.order.capture().then(function(details) {
      alert('Pagamento completato da ' + details.payer.name.given_name);
    });
  }
}).render('#paypal-button-container');

renderProducts();
</script>

<style>
@media (max-width: 600px) {
  #product-list div {
    width: 100% !important;
  }
  section#shop {
    padding: 1rem;
  }
}
</style>
      </div>
    </section>


    
    <section id="dove" class="section">
      <h2>Dove ci trovi</h2>
      <p>Ci trovi in <strong>Via Gramsci, Iglesias (CI), Sardegna</strong>, presso il Mercato Civico.</p>
      <div id="map"></div>
    </section>

    <section id="servizi" class="section">
      <h2>I nostri servizi</h2>
      <ul>
        <li>Vendita al dettaglio di prodotti tipici sardi</li>
        <li>Confezioni regalo personalizzate</li>
        <li>Spedizioni in tutta Italia</li>
        <li>Degustazioni su prenotazione</li>
      </ul>
    </section>

    <section id="galleria" class="section">
      <h2>Galleria</h2>
      <div class="gallery-placeholder">
        <p>Qui sarà inserita la galleria di foto e video dei nostri prodotti e del punto vendita.</p>
      </div>
    </section>

    

    <section id="contatti" class="section">
      <h2>Contatti</h2>
      <p>Per informazioni, ordini o richieste particolari, contattaci via email o telefono. (Spazio per modulo contatti e informazioni)</p>
    </section>
  </main>

  <footer>
    <p>&copy; 2025 ZARA FORMAGGI di Zara Maurizio - Tutti i diritti riservati</p>
  </footer>

  <!-- Leaflet JS -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

  <script>
    let mapInitialized = false;
    let map;

    function showSection(id) {
      document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
      document.getElementById(id)?.classList.add('active');

      if (id === 'dove') {
        if (!mapInitialized) {
          const coords = [39.3117602, 8.5351056];
          map = L.map('map').setView(coords, 18);
          L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '© OpenStreetMap contributors'
          }).addTo(map);
          L.marker(coords).addTo(map).bindPopup('Via Gramsci, Mercato Civico - Iglesias, Sardegna').openPopup();
          mapInitialized = true;
        } else {
          setTimeout(() => map.invalidateSize(), 200);
        }
      }
    }
  </script>

<!-- aggiornamento carrello  -->

  <script>
  const products = [
    { name: "Pecorino Sardo", price: 12.90 },
    { name: "Ricotta Mustia", price: 9.50 },
    { name: "Crema di formaggio", price: 7.00 }
  ];

  const cartItems = [];

  function updateCart() {
    const cartList = document.getElementById('cart');
    const subtotalEl = document.getElementById('subtotal');
    const totalEl = document.getElementById('total');
    const floatingTotalEl = document.getElementById('floating-total');
    const ordineHidden = document.getElementById('ordineHidden');
    const shippingRadio = document.querySelector('input[name="spedizione"]:checked');
    
    cartList.innerHTML = '';
    let subtotal = 0;

    cartItems.forEach(item => {
      const li = document.createElement('li');
      li.textContent = `${item.name} - €${item.price.toFixed(2)}`;
      cartList.appendChild(li);
      subtotal += item.price;
    });

    const shippingCost = shippingRadio && shippingRadio.value === 'spedizione' && cartItems.length > 0 ? 7.00 : 0.00;
    
    subtotalEl.textContent = `€${subtotal.toFixed(2)}`;
    document.getElementById('shipping').textContent = `€${shippingCost.toFixed(2)}`;
    const total = subtotal + shippingCost;
    totalEl.textContent = `€${total.toFixed(2)}`;
    floatingTotalEl.textContent = `€${total.toFixed(2)}`;

    ordineHidden.value = cartItems.map(i => `${i.name} - €${i.price.toFixed(2)}`).join('\n');
  }

  function addToCart(product) {
    cartItems.push(product);
    updateCart();
  }

  function renderProducts() {
    const productList = document.getElementById('product-list');
    productList.innerHTML = '';

    products.forEach(prod => {
      const div = document.createElement('div');
      div.className = 'card';
      div.innerHTML = `
        <h3>${prod.name}</h3>
        <p>Prezzo: €${prod.price.toFixed(2)}</p>
        <button onclick='addToCart(${JSON.stringify(prod)})' style="padding:8px 12px;background:#8fbc8f;color:white;border:none;border-radius:5px;cursor:pointer;">Aggiungi al carrello</button>
      `;
      productList.appendChild(div);
    });
  }

  document.addEventListener('DOMContentLoaded', () => {
    renderProducts();

    document.querySelectorAll('input[name="spedizione"]').forEach(radio => {
      radio.addEventListener('change', updateCart);
    });
  });
</script>

  

  
  <!-- AGGIUNGI QUESTO PRIMA DI </body> -->
<script src="https://www.paypal.com/sdk/js?client-id=sb&currency=EUR"></script>
<script>
  const prodotti = [
    { id: 1, nome: "Pecorino Sardo", prezzo: 20, disponibile: 10 },
    { id: 2, nome: "Ricotta Fresca", prezzo: 9.0, disponibile: 20 },
    { id: 3, nome: "Fiore Sardo", prezzo: 28.0, disponibile: 5 }
  ];

  let carrello = [];

  function aggiornaUI() {
    const elenco = document.getElementById("product-list");
    elenco.innerHTML = prodotti.map(p => `
      <div class="card">
        <h3>${p.nome}</h3>
        <p>Prezzo: €${p.prezzo.toFixed(2)}</p>
        <p>Disponibili: ${p.disponibile}</p>
        <button onclick="aggiungiAlCarrello(${p.id})">Aggiungi</button>
      </div>
    `).join("");
  }

  function aggiornaCarrello() {
    const ul = document.getElementById("cart");
    ul.innerHTML = carrello.map(item => `<li>${item.nome} x${item.quantita} = €${(item.prezzo * item.quantita).toFixed(2)}</li>`).join("");

    const subtotal = carrello.reduce((sum, item) => sum + item.prezzo * item.quantita, 0);
    document.getElementById("subtotal").innerText = `€${subtotal.toFixed(2)}`;

    const spedizione = document.querySelector("input[name='spedizione']:checked").value === "spedizione" ? 7 : 0;
    document.getElementById("shipping").innerText = `€${spedizione.toFixed(2)}`;

    const totale = subtotal + spedizione;
    document.getElementById("total").innerText = `€${totale.toFixed(2)}`;
    document.getElementById("floating-total").innerText = `€${totale.toFixed(2)}`;

    document.getElementById("ordineHidden").value = carrello.map(c => `${c.nome} x${c.quantita}`).join(", ");
  }

  function aggiungiAlCarrello(id) {
    const prodotto = prodotti.find(p => p.id === id);
    if (!prodotto || prodotto.disponibile <= 0) return;
    const esiste = carrello.find(c => c.id === id);
    if (esiste) {
      if (esiste.quantita < prodotto.disponibile) {
        esiste.quantita++;
      }
    } else {
      carrello.push({ ...prodotto, quantita: 1 });
    }
    aggiornaCarrello();
  }

  document.querySelectorAll("input[name='spedizione']").forEach(r => {
    r.addEventListener("change", aggiornaCarrello);
  });

  aggiornaUI();

  paypal.Buttons({
    createOrder: (data, actions) => {
      const totale = document.getElementById("total").innerText.replace("€", "");
      return actions.order.create({
        purchase_units: [{ amount: { value: totale } }]
      });
    },
    onApprove: (data, actions) => {
      return actions.order.capture().then(function(details) {
        alert("Pagamento completato da " + details.payer.name.given_name);
      });
    }
  }).render("#paypal-button-container");
</script>

  
<-- script pdf -->
<script>
  async function downloadPDF() {
    const { jsPDF } = window.jspdf;
    const doc = new jsPDF();

    let ordine = document.getElementById('ordineHidden').value || 'Nessun prodotto nel carrello.';
    let nome = document.querySelector('input[name="nome"]').value;
    let email = document.querySelector('input[name="email"]').value;
    let indirizzo = document.querySelector('textarea[name="indirizzo"]').value;
    let spedizione = document.querySelector('input[name="spedizione"]:checked')?.value || '';
    let totale = document.getElementById('total').textContent;

    let text = `ZARA FORMAGGI - Riepilogo ordine\n\n`;
    text += `👤 Nome: ${nome}\n📧 Email: ${email}\n🏠 Indirizzo: ${indirizzo || '-'}\n🚚 Tipo spedizione: ${spedizione}\n\n`;
    text += `🧀 Prodotti:\n${ordine}\n\n💰 Totale: ${totale}`;

    doc.setFontSize(12);
    doc.text(text, 10, 20);
    doc.save('ordine_zaraformaggi.pdf');
  }
</script>


  
</body>
</html>



  
