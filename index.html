<!DOCTYPE html>

<html lang="it">
<head>
<style>
.card-overlay {
  position: relative;
  width: 200px;
  overflow: hidden;
  border-radius: 10px;
  text-align: center;
}
.card-overlay img {
  width: 100%;
  display: block;
}
.card-overlay .info {
  position: absolute;
  bottom: 0;
  background: rgba(0, 0, 0, 0.7);
  color: #fff;
  width: 100%;
  padding: 10px;
  opacity: 0;
  transition: 0.3s ease-in-out;
  font-size: 0.9rem;
}
.card-overlay:hover .info {
  opacity: 1;
}
</style>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>ZARA FORMAGGI di Zara Maurizio</title>
<!-- Leaflet CSS -->
<link href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" rel="stylesheet"/>
<style>
    :root {
      --verde-scuro: #2f4f2f;
      --verde-chiaro: #8fbc8f;
      --giallo-ocra: #c9a602;
      --caldo: #f4e2d8;
    }

    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background-color: var(--caldo);
      color: #333;
    }

    header {
      background-color: var(--verde-scuro);
      color: white;
      padding: 1rem;
      text-align: center;
    }

    .header-logo img {
      width: 100px;
      height: auto;
      margin-bottom: 0.5rem;
    }

    .header-title h1 {
      margin: 0;
    }

    .header-subtitle {
      margin-top: 0.5rem;
      font-size: 1.1rem;
    }

    nav {
      background-color: var(--verde-chiaro);
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
    }

    nav a {
      color: white;
      padding: 1rem;
      text-decoration: none;
      font-weight: bold;
      cursor: pointer;
    }

    nav a:hover {
      background-color: var(--giallo-ocra);
    }

    .section {
      padding: 2rem;
      display: none;
    }

    .section.active {
      display: block;
    }

    .gallery-placeholder {
      border: 2px dashed var(--verde-scuro);
      padding: 2rem;
      text-align: center;
      background-color: #fff;
    }

    footer {
      background-color: var(--verde-scuro);
      color: white;
      text-align: center;
      padding: 1rem;
    }

    .search-bar {
      margin: 1rem auto;
      text-align: center;
    }

    .search-bar input {
      padding: 0.5rem;
      width: 80%;
      max-width: 400px;
      border: 1px solid #ccc;
      border-radius: 4px;
    }

    #map {
      width: 100%;
      max-width: 800px;
      height: 50vh;
      min-height: 300px;
      margin: 1rem auto;
      border: 2px solid var(--verde-scuro);
      border-radius: 8px;
    }

    .card-container {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
      justify-content: center;
    }

    .card {
      background-color: #fff8ed;
      border: 1px solid #ccc;
      border-radius: 12px;
      width: 300px;
      padding: 1rem;
      text-align: center;
    }

    .card img {
      width: 100%;
      border-radius: 8px;
      height: auto;
    }

    .card h3 {
      margin-top: 0.5rem;
      color: #5d4037;
    }

    .card p {
      font-size: 0.95em;
      color: #4e342e;
    }

    @media (max-width: 600px) {
      nav a { padding: 0.5rem; }
      .card { width: 100%; }
    }
  
    #cart-button {
      position: fixed;
      top: 1rem;
      right: 1rem;
      background-color: var(--giallo-ocra);
      color: white;
      border: none;
      padding: 0.5rem 1rem;
      border-radius: 8px;
      font-weight: bold;
      cursor: pointer;
      z-index: 1000;
    }

    #cart-section {
      position: fixed;
      top: 5rem;
      right: 1rem;
      background: white;
      border: 2px solid var(--verde-scuro);
      border-radius: 12px;
      width: 320px;
      max-height: 80vh;
      overflow-y: auto;
      padding: 1rem;
      display: none;
      z-index: 999;
    }

    .cart-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 0.5rem;
    }

    .cart-item button {
      margin: 0 0.25rem;
    }

    #checkout-form input, #checkout-form button {
      display: block;
      width: 100%;
      margin-top: 0.5rem;
      padding: 0.5rem;
    }

</style>
</head>
<body>
<button id="cart-button" onclick="toggleCart()">üõí Carrello</button>
<div id="cart-section">
<h3>Il tuo carrello</h3>
<div id="cart-items"></div>
<hr/>
<form action="https://formspree.io/f/xpwrplgn" id="checkout-form" method="POST">
<label><input id="ritiro-loco" onchange="toggleSottovuoto()" type="checkbox"/> Ritiro in loco</label><br/>
<div id="sottovuoto-opzione" style="display:none; margin-top:6px;">
<label><input id="sottovuoto" onchange="aggiornaTotale()" type="checkbox"/> Richiedi sottovuoto (+‚Ç¨0.50)</label>
</div>
<input name="Nome" placeholder="Nome" required="" type="text"/>
<input name="Cognome" placeholder="Cognome" required="" type="text"/>
<input name="Telefono" placeholder="Numero di telefono" required="" type="tel"/>
<input name="Email" placeholder="Email" required="" type="email"/>
<input name="Indirizzo" placeholder="Indirizzo di consegna (se richiesto)" type="text"/>
<label><input name="Ritiro in loco" type="checkbox"/> Ritiro in loco presso il negozio</label>
<input id="ordine-dettaglio" name="Ordine" type="hidden"/>
<button onclick="prepareOrder()" type="submit">Invia Ordine</button>
<button onclick="downloadPDF()" type="button">Salva in PDF</button>
<div style="margin-top:1rem;">
<div id="paypal-button-container"></div>
<button onclick="alert('Simulazione Stripe')" type="button">Paga con Stripe</button>
</div>

<p><strong>Destinazione:</strong><br/>
<label><input checked="" id="destinazione-italia" name="destinazione" type="radio"/> Italia</label><br/>
<label><input id="destinazione-europa" name="destinazione" type="radio"/> Europa</label>
</p>
<button onclick="return inviaOrdine()" type="submit">Procedi al pagamento</button>
</form>
<div style="margin-top:10px;">
<label><input id="confezione-regalo" onchange="aggiornaTotale()" type="checkbox"/> Aggiungi confezione regalo (+‚Ç¨5)</label>
</div>
<div id="cart-total" style="margin-top:10px; font-weight:bold;"></div></div>
<header>
<div class="header-logo">
<img alt="Logo Zara Formaggi" src="logo.png"/>
</div>
<div class="header-title">
<h1>ZARA FORMAGGI</h1>
<div class="header-subtitle">di Zara Maurizio</div>
</div>
<p>Rivendita di Prodotti tipici Sardi e tanto altro</p>
</header>
<nav>
<a onclick="showSection('home')">Home</a>
<a onclick="showSection('chi-siamo')">Chi siamo</a>
<a onclick="showSection('dove')">Dove ci trovi</a>
<a onclick="showSection('servizi')">Servizi</a>
<a onclick="showSection('galleria')">Galleria</a>
<a onclick="showSection('prodotti')">I nostri prodotti</a>
<a onclick="showSection('shop')">Shop</a>
<a onclick="showSection('contatti')">Contatti</a>
</nav>
<div class="search-bar">
<input placeholder="Cerca nel sito..." type="text"/>
</div>
<main>
<section class="section active" id="home">
<h2>Benvenuti!</h2>
<p>Visita il sito per scoprire i nostri prodotti. Offriamo una selezione di eccellenze enogastronomiche sarde, con attenzione alla qualit√†, alla tradizione e al gusto autentico.</p>
</section>
<section class="section" id="chi-siamo">
<h2>Chi siamo</h2>
<p>ZARA FORMAGGI nasce dalla passione per i sapori autentici della Sardegna. Fondata da Maurizio Zara, l‚Äôattivit√† si dedica alla selezione e vendita di prodotti tipici come formaggi, salumi, dolci e molto altro. Tradizione e qualit√† sono il nostro marchio.</p>
</section>
<section class="section" id="dove">
<h2>Dove ci trovi</h2>
<p>Ci trovi in <strong>Via Gramsci, Iglesias (CI), Sardegna</strong>, presso il Mercato Civico.</p>
<h3>Orari di apertura</h3>
<ul>
<li>Luned√¨: Chiuso</li>
<li>Marted√¨: 8:00 - 13:00</li>
<li>Mercoled√¨: 8:00 - 13:00</li>
<li>Gioved√¨: 8:00 - 13:00</li>
<li>Venerd√¨: 7:30 - 13:00</li>
<li>Sabato: 7:30 - 13:00</li>
<li>Domenica: Chiuso</li>
</ul>
<div id="map"></div>
</section>
<section class="section" id="servizi">
<h2>I nostri servizi</h2>
<ul>
<li>Vendita al dettaglio di prodotti tipici sardi</li>
<li>Confezioni regalo personalizzate</li>
<li>Spedizioni in tutta Italia</li>
<li>Degustazioni su prenotazione</li>
</ul>
</section>
<section class="section" id="galleria">
<h2>Galleria</h2>
<div class="gallery-placeholder">
<p>Qui sar√† inserita la galleria di foto e video dei nostri prodotti e del punto vendita.</p>
</div>
</section>
<section class="section" id="prodotti">
<nav class="menu-prodotti" style="position: sticky; top: 0; background: white; z-index: 1000; padding: 10px 0; border-bottom: 1px solid #ccc; text-align: center;">
<a href="#formaggi" style="margin-right: 20px;">üßÄ Formaggi</a>
<a href="#salumi" style="margin-right: 20px;">ü•ì Salumi</a>
<a href="#altri-prodotti">üõí Altri Prodotti</a>
</nav>
<h2>I nostri prodotti</h2>
<div class="card-container" style="display: flex; flex-wrap: wrap; gap: 20px;">
</div>
<h4 style="margin:6px 0 0;">Crabl√π</h4>
<p style="margin:0;color:#444;">‚Ç¨24,00/kg</p>
<div class="categoria-prodotti" id="formaggi"><h3>Formaggi</h3></div><div class="categoria-prodotti" id="salumi"><h3>Salumi</h3></div><div class="categoria-prodotti" id="altri-prodotti"><h3>Altri prodotti</h3></div></section>
<section class="section" id="contatti">
<h2>Contatti</h2>
<p>Per informazioni, ordini o richieste particolari, contattaci via email o telefono. (Spazio per modulo contatti e informazioni)</p>
</section>
<section class="section" id="shop">
<div style="margin: 30px 0; padding: 15px; border: 1px solid #ccc; border-radius: 10px;">
<h3>üéÅ Richiedi un Buono Regalo</h3>
<label for="valore-voucher">Inserisci il valore (10‚Ç¨ - 200‚Ç¨):</label><br/>
<input id="valore-voucher" max="200" min="10" style="width: 100px; margin: 8px 0;" type="number" value="10"/>
<button onclick="aggiungiVoucher()" type="button">Aggiungi al carrello</button>
</div>
<h2>Shop</h2>
<div class="card-container" style="display: flex; flex-wrap: wrap; gap: 20px;">
<div class="card" style="width: 200px; border-radius: 10px; overflow: hidden; box-shadow: 0 2px 5px rgba(0,0,0,0.15);">
<img alt="Crabl√π" src="Crablu.png" style="width: 100%; height: auto;"/>
<div style="padding: 10px;">
<h4 style="margin: 0 0 5px;">Crabl√π</h4>
<p style="margin: 0 0 5px; font-size: 0.9em; color: #333;">Formaggio erborinato di capra, dal gusto intenso e aromatico.</p>
<p style="margin: 0; font-weight: bold; color: #444;">‚Ç¨24,00/kg</p>
<label for="quantita-crabl√π">Seleziona quantit√†:</label><br/>
<select id="quantita-crabl√π" onchange="aggiornaPesoGenerico('quantita-crabl√π', 'peso-crabl√π')" style="width: 100%; margin-top: 4px;">
<option value="0.125">1/8 di forma</option>
<option value="0.25">1/4 di forma</option>
<option value="0.5">1/2 forma</option>
<option value="1">1 forma intera</option>
</select>
<p id="peso-crabl√π" style="font-size: 0.85em; color: #666; margin-top: 6px;">
      1/8 di forma = circa 500g
    </p>
<label for="quantita-crablu">Seleziona quantit√†:</label><br/>
<select id="quantita-crablu" onchange="aggiornaPesoGenerico('quantita-crablu', 'peso-crablu')" style="width: 100%; margin-top: 4px;">
<option value="0.125">1/8 di forma</option>
<option value="0.25">1/4 di forma</option>
<option value="0.5">1/2 forma</option>
<option value="1">1 forma intera</option>
</select>
<p id="peso-crablu" style="font-size: 0.85em; color: #666; margin-top: 6px;">
      1/8 di forma = circa 500g
    </p>
<button onclick="addToCart('Crabl√π', 1/8 di forma = circa 500g, parseFloat(document.getElementById('quantita-crablu').value))" style="margin-top: 10px;">
      Aggiungi al carrello
    </button>
</div>
</div>
<div class="card" style="width: 200px; border-radius: 10px; overflow: hidden; box-shadow: 0 2px 5px rgba(0,0,0,0.15);">
<img alt="Sulcitano" src="Sulcitano.png" style="width: 100%; height: auto;"/>
<div style="padding: 10px;">
<h4 style="margin: 0 0 5px;">Sulcitano</h4>
<p style="margin: 0 0 5px; font-size: 0.9em; color: #333;">Formaggio pecorino sardo 100% latte ovino, sapore equilibrato.</p>
<p style="margin: 0; font-weight: bold; color: #444;">‚Ç¨18,00/kg</p>
<label for="quantita-sulcitano">Seleziona quantit√†:</label><br/>
<select id="quantita-sulcitano" onchange="aggiornaPesoGenerico('quantita-sulcitano', 'peso-sulcitano')" style="width: 100%; margin-top: 4px;">
<option value="0.125">1/8 di forma</option>
<option value="0.25">1/4 di forma</option>
<option value="0.5">1/2 forma</option>
<option value="1">1 forma intera</option>
</select>
<p id="peso-sulcitano" style="font-size: 0.85em; color: #666; margin-top: 6px;">
      1/8 di forma = circa 500g
    </p>
<label for="quantita-sulcitano">Seleziona quantit√†:</label><br/>
<select id="quantita-sulcitano" onchange="aggiornaPesoGenerico('quantita-sulcitano', 'peso-sulcitano')" style="width: 100%; margin-top: 4px;">
<option value="0.125">1/8 di forma</option>
<option value="0.25">1/4 di forma</option>
<option value="0.5">1/2 forma</option>
<option value="1">1 forma intera</option>
</select>
<p id="peso-sulcitano" style="font-size: 0.85em; color: #666; margin-top: 6px;">
      1/8 di forma = circa 500g
    </p>
<button onclick="addToCart('Sulcitano', 1/8 di forma = circa 500g, parseFloat(document.getElementById('quantita-sulcitano').value))" style="margin-top: 10px;">
      Aggiungi al carrello
    </button>
</div>
</div>
<div class="card" style="width: 200px; border-radius: 10px; overflow: hidden; box-shadow: 0 2px 5px rgba(0,0,0,0.15);">
<img alt="Biancoarrosto" src="Bianco arrosto.png" style="width: 100%; height: auto;"/>
<div style="padding: 10px;">
<h4 style="margin: 0 0 5px;">Biancoarrosto</h4>
<p style="margin: 0 0 5px; font-size: 0.9em; color: #333;">Pecorino da griglia con crosta sottile, ottimo per arrosti e piastra.</p>
<p style="margin: 0; font-weight: bold; color: #444;">‚Ç¨17,00/kg</p>
<label for="quantita-biancoarrosto">Seleziona quantit√†:</label><br/>
<select id="quantita-biancoarrosto" onchange="aggiornaPesoGenerico('quantita-biancoarrosto', 'peso-biancoarrosto')" style="width: 100%; margin-top: 4px;">
<option value="0.125">1/8 di forma</option>
<option value="0.25">1/4 di forma</option>
<option value="0.5">1/2 forma</option>
<option value="1">1 forma intera</option>
</select>
<p id="peso-biancoarrosto" style="font-size: 0.85em; color: #666; margin-top: 6px;">
      1/8 di forma = circa 500g
    </p>
<label for="quantita-biancoarrosto">Seleziona quantit√†:</label><br/>
<select id="quantita-biancoarrosto" onchange="aggiornaPesoGenerico('quantita-biancoarrosto', 'peso-biancoarrosto')" style="width: 100%; margin-top: 4px;">
<option value="0.125">1/8 di forma</option>
<option value="0.25">1/4 di forma</option>
<option value="0.5">1/2 forma</option>
<option value="1">1 forma intera</option>
</select>
<p id="peso-biancoarrosto" style="font-size: 0.85em; color: #666; margin-top: 6px;">
      1/8 di forma = circa 500g
    </p>
<button onclick="addToCart('Biancoarrosto', 1/8 di forma = circa 500g, parseFloat(document.getElementById('quantita-biancoarrosto').value))" style="margin-top: 10px;">
      Aggiungi al carrello
    </button>
</div>
</div>
<div class="card" style="width: 200px; border-radius: 10px; overflow: hidden; box-shadow: 0 2px 5px rgba(0,0,0,0.15);">
<img alt="Provola di Orotelli" src="Provole bianche orotelli.png" style="width: 100%; height: auto;"/>
<div style="padding: 10px;">
<h4 style="margin: 0 0 5px;">Provola di Orotelli</h4>
<p style="margin: 0 0 5px; font-size: 0.9em; color: #333;">Provola affumicata prodotta in Sardegna, gusto delicato e avvolgente.</p>
<p style="margin: 0; font-weight: bold; color: #444;">‚Ç¨16,00/kg</p>
<label for="quantita-provola-di-orotelli">Seleziona quantit√†:</label><br/>
<select id="quantita-provola-di-orotelli" onchange="aggiornaPesoGenerico('quantita-provola-di-orotelli', 'peso-provola-di-orotelli')" style="width: 100%; margin-top: 4px;">
<option value="0.125">1/8 di forma</option>
<option value="0.25">1/4 di forma</option>
<option value="0.5">1/2 forma</option>
<option value="1">1 forma intera</option>
</select>
<p id="peso-provola-di-orotelli" style="font-size: 0.85em; color: #666; margin-top: 6px;">
      1/8 di forma = circa 500g
    </p>
<label for="quantita-provola-di-orotelli">Seleziona quantit√†:</label><br/>
<select id="quantita-provola-di-orotelli" onchange="aggiornaPesoGenerico('quantita-provola-di-orotelli', 'peso-provola-di-orotelli')" style="width: 100%; margin-top: 4px;">
<option value="0.125">1/8 di forma</option>
<option value="0.25">1/4 di forma</option>
<option value="0.5">1/2 forma</option>
<option value="1">1 forma intera</option>
</select>
<p id="peso-provola-di-orotelli" style="font-size: 0.85em; color: #666; margin-top: 6px;">
      1/8 di forma = circa 500g
    </p>
<button onclick="addToCart('Provola di Orotelli', 1/8 di forma = circa 500g, parseFloat(document.getElementById('quantita-provola-di-orotelli').value))" style="margin-top: 10px;">
      Aggiungi al carrello
    </button>
</div>
</div>
<div class="card" style="width: 200px; border-radius: 10px; overflow: hidden; box-shadow: 0 2px 5px rgba(0,0,0,0.15);">
<img alt="Gran Sirai" src="Gran Sirai.png" style="width: 100%; height: auto;"/>
<div style="padding: 10px;">
<h4 style="margin: 0 0 5px;">Gran Sirai</h4>
<p style="margin: 0 0 5px; font-size: 0.9em; color: #333;">Formaggio pecorino stagionato a pasta friabile, sapore deciso.</p>
<p style="margin: 0; font-weight: bold; color: #444;">‚Ç¨26,00/kg</p>
<label for="quantita-gran-sirai">Seleziona quantit√†:</label><br/>
<select id="quantita-gran-sirai" onchange="aggiornaPesoGenerico('quantita-gran-sirai', 'peso-gran-sirai')" style="width: 100%; margin-top: 4px;">
<option value="0.125">1/8 di forma</option>
<option value="0.25">1/4 di forma</option>
<option value="0.5">1/2 forma</option>
<option value="1">1 forma intera</option>
</select>
<p id="peso-gran-sirai" style="font-size: 0.85em; color: #666; margin-top: 6px;">
      1/8 di forma = circa 500g
    </p>
<label for="quantita-gran-sirai">Seleziona quantit√†:</label><br/>
<select id="quantita-gran-sirai" onchange="aggiornaPesoGenerico('quantita-gran-sirai', 'peso-gran-sirai')" style="width: 100%; margin-top: 4px;">
<option value="0.125">1/8 di forma</option>
<option value="0.25">1/4 di forma</option>
<option value="0.5">1/2 forma</option>
<option value="1">1 forma intera</option>
</select>
<p id="peso-gran-sirai" style="font-size: 0.85em; color: #666; margin-top: 6px;">
      1/8 di forma = circa 500g
    </p>
<button onclick="addToCart('Gran Sirai', 1/8 di forma = circa 500g, parseFloat(document.getElementById('quantita-gran-sirai').value))" style="margin-top: 10px;">
      Aggiungi al carrello
    </button>
</div>
</div>
<div class="card" style="width: 200px; border-radius: 10px; overflow: hidden; box-shadow: 0 2px 5px rgba(0,0,0,0.15);">
<img alt="Cuor di Latte" src="Cuor di latte.png" style="width: 100%; height: auto;"/>
<div style="padding: 10px;">
<h4 style="margin: 0 0 5px;">Cuor di Latte</h4>
<p style="margin: 0 0 5px; font-size: 0.9em; color: #333;">Caprino semistagionato, delicato e profumato.</p>
<p style="margin: 0; font-weight: bold; color: #444;">‚Ç¨19,00/kg</p>
<label for="quantita-cuor-di-latte">Seleziona quantit√†:</label><br/>
<select id="quantita-cuor-di-latte" onchange="aggiornaPesoGenerico('quantita-cuor-di-latte', 'peso-cuor-di-latte')" style="width: 100%; margin-top: 4px;">
<option value="0.125">1/8 di forma</option>
<option value="0.25">1/4 di forma</option>
<option value="0.5">1/2 forma</option>
<option value="1">1 forma intera</option>
</select>
<p id="peso-cuor-di-latte" style="font-size: 0.85em; color: #666; margin-top: 6px;">
      1/8 di forma = circa 500g
    </p>
<label for="quantita-cuor-di-latte">Seleziona quantit√†:</label><br/>
<select id="quantita-cuor-di-latte" onchange="aggiornaPesoGenerico('quantita-cuor-di-latte', 'peso-cuor-di-latte')" style="width: 100%; margin-top: 4px;">
<option value="0.125">1/8 di forma</option>
<option value="0.25">1/4 di forma</option>
<option value="0.5">1/2 forma</option>
<option value="1">1 forma intera</option>
</select>
<p id="peso-cuor-di-latte" style="font-size: 0.85em; color: #666; margin-top: 6px;">
      1/8 di forma = circa 500g
    </p>
<button onclick="addToCart('Cuor di Latte', 1/8 di forma = circa 500g, parseFloat(document.getElementById('quantita-cuor-di-latte').value))" style="margin-top: 10px;">
      Aggiungi al carrello
    </button>
</div>
</div>
<div class="card" style="width: 200px; border-radius: 10px; overflow: hidden; box-shadow: 0 2px 5px rgba(0,0,0,0.15);">
<img alt="Sirai Gigante" src="Sirai gigante.png" style="width: 100%; height: auto;"/>
<div style="padding: 10px;">
<h4 style="margin: 0 0 5px;">Sirai Gigante</h4>
<p style="margin: 0 0 5px; font-size: 0.9em; color: #333;">Pecorino stagionato di grandi dimensioni, sapore robusto.</p>
<p style="margin: 0; font-weight: bold; color: #444;">‚Ç¨22,00/kg</p>
<label for="quantita-sirai-gigante">Seleziona quantit√†:</label><br/>
<select id="quantita-sirai-gigante" onchange="aggiornaPesoGenerico('quantita-sirai-gigante', 'peso-sirai-gigante')" style="width: 100%; margin-top: 4px;">
<option value="0.125">1/8 di forma</option>
<option value="0.25">1/4 di forma</option>
<option value="0.5">1/2 forma</option>
<option value="1">1 forma intera</option>
</select>
<p id="peso-sirai-gigante" style="font-size: 0.85em; color: #666; margin-top: 6px;">
      1/8 di forma = circa 500g
    </p>
<label for="quantita-sirai-gigante">Seleziona quantit√†:</label><br/>
<select id="quantita-sirai-gigante" onchange="aggiornaPesoGenerico('quantita-sirai-gigante', 'peso-sirai-gigante')" style="width: 100%; margin-top: 4px;">
<option value="0.125">1/8 di forma</option>
<option value="0.25">1/4 di forma</option>
<option value="0.5">1/2 forma</option>
<option value="1">1 forma intera</option>
</select>
<p id="peso-sirai-gigante" style="font-size: 0.85em; color: #666; margin-top: 6px;">
      1/8 di forma = circa 500g
    </p>
<button onclick="addToCart('Sirai Gigante', 1/8 di forma = circa 500g, parseFloat(document.getElementById('quantita-sirai-gigante').value))" style="margin-top: 10px;">
      Aggiungi al carrello
    </button>
</div>
</div>
<div class="card" style="width: 200px; border-radius: 10px; overflow: hidden; box-shadow: 0 2px 5px rgba(0,0,0,0.15);">
<img alt="Vecchio Capraro" src="https://chat.openai.com/cdn/pub/file-H1exrZC8Gr2PgXLJdaScJo" style="width: 100%; height: auto;"/>
<div style="padding: 10px;">
<h4 style="margin: 0 0 5px;">Vecchio Capraro</h4>
<p style="margin: 0 0 5px; font-size: 0.9em; color: #333;">Formaggio di capra a lunga stagionatura, gusto complesso e aromatico.</p>
<p style="margin: 0; font-weight: bold; color: #444;">‚Ç¨21,00/kg</p>
<label for="quantita-vecchio-capraro">Seleziona quantit√†:</label><br/>
<select id="quantita-vecchio-capraro" onchange="aggiornaPesoGenerico('quantita-vecchio-capraro', 'peso-vecchio-capraro')" style="width: 100%; margin-top: 4px;">
<option value="0.125">1/8 di forma</option>
<option value="0.25">1/4 di forma</option>
<option value="0.5">1/2 forma</option>
<option value="1">1 forma intera</option>
</select>
<p id="peso-vecchio-capraro" style="font-size: 0.85em; color: #666; margin-top: 6px;">
      1/8 di forma = circa 500g
    </p>
<label for="quantita-vecchio-capraro">Seleziona quantit√†:</label><br/>
<select id="quantita-vecchio-capraro" onchange="aggiornaPesoGenerico('quantita-vecchio-capraro', 'peso-vecchio-capraro')" style="width: 100%; margin-top: 4px;">
<option value="0.125">1/8 di forma</option>
<option value="0.25">1/4 di forma</option>
<option value="0.5">1/2 forma</option>
<option value="1">1 forma intera</option>
</select>
<p id="peso-vecchio-capraro" style="font-size: 0.85em; color: #666; margin-top: 6px;">
      1/8 di forma = circa 500g
    </p>
<button onclick="addToCart('Vecchio Capraro', 1/8 di forma = circa 500g, parseFloat(document.getElementById('quantita-vecchio-capraro').value))" style="margin-top: 10px;">
      Aggiungi al carrello
    </button>
</div>
</div>
<div class="card" style="width: 200px; border-radius: 10px; overflow: hidden; box-shadow: 0 2px 5px rgba(0,0,0,0.15);">
<img alt="Cuore del Sulcis" src="https://chat.openai.com/cdn/pub/file-U1iwj7gPruJG6HbJN72ju1" style="width: 100%; height: auto;"/>
<div style="padding: 10px;">
<h4 style="margin: 0 0 5px;">Cuore del Sulcis</h4>
<p style="margin: 0 0 5px; font-size: 0.9em; color: #333;">Pecorino da tavola, sapore leggero e profumato, ideale anche grattugiato.</p>
<p style="margin: 0; font-weight: bold; color: #444;">‚Ç¨18,00/kg</p>
<label for="quantita-cuore-del-sulcis">Seleziona quantit√†:</label><br/>
<select id="quantita-cuore-del-sulcis" onchange="aggiornaPesoGenerico('quantita-cuore-del-sulcis', 'peso-cuore-del-sulcis')" style="width: 100%; margin-top: 4px;">
<option value="0.125">1/8 di forma</option>
<option value="0.25">1/4 di forma</option>
<option value="0.5">1/2 forma</option>
<option value="1">1 forma intera</option>
</select>
<p id="peso-cuore-del-sulcis" style="font-size: 0.85em; color: #666; margin-top: 6px;">
      1/8 di forma = circa 500g
    </p>
<label for="quantita-cuore-del-sulcis">Seleziona quantit√†:</label><br/>
<select id="quantita-cuore-del-sulcis" onchange="aggiornaPesoGenerico('quantita-cuore-del-sulcis', 'peso-cuore-del-sulcis')" style="width: 100%; margin-top: 4px;">
<option value="0.125">1/8 di forma</option>
<option value="0.25">1/4 di forma</option>
<option value="0.5">1/2 forma</option>
<option value="1">1 forma intera</option>
</select>
<p id="peso-cuore-del-sulcis" style="font-size: 0.85em; color: #666; margin-top: 6px;">
      1/8 di forma = circa 500g
    </p>
<button onclick="addToCart('Cuore del Sulcis', 1/8 di forma = circa 500g, parseFloat(document.getElementById('quantita-cuore-del-sulcis').value))" style="margin-top: 10px;">
      Aggiungi al carrello
    </button>
</div>
</div>
</div>
<h4 style="margin:6px 0 0;">Crabl√π</h4>
<p style="margin:0;color:#444;">‚Ç¨24,00/kg</p>
<div class="card-overlay">
<img alt="Sulcitano" src="https://chat.openai.com/cdn/pub/file-ABLRUJKxYjtj1kf2kU7Ffp"/>
<div class="info">Formaggio pecorino sardo 100% latte ovino, sapore equilibrato.</div>
<h4 style="margin:6px 0 0;">Sulcitano</h4>
<p style="margin:0;color:#444;">‚Ç¨18,00/kg</p>
</div>
<div class="card-overlay">
<img alt="Biancoarrosto" src="https://chat.openai.com/cdn/pub/file-WnAwhyrixLJNE8fXWcxtQR"/>
<div class="info">Pecorino da griglia con crosta sottile, ottimo per arrosti e piastra.</div>
<h4 style="margin:6px 0 0;">Biancoarrosto</h4>
<p style="margin:0;color:#444;">‚Ç¨17,00/kg</p>
</div>
<div class="card-overlay">
<img alt="Provola di Orotelli" src="https://chat.openai.com/cdn/pub/file-M6kxVPbo2VGqbKamp4S9W2"/>
<div class="info">Provola affumicata prodotta in Sardegna, gusto delicato e avvolgente.</div>
<h4 style="margin:6px 0 0;">Provola di Orotelli</h4>
<p style="margin:0;color:#444;">‚Ç¨16,00/kg</p>
</div>
<div class="card-overlay">
<img alt="Gran Sirai" src="https://chat.openai.com/cdn/pub/file-48PDY9p9APKPqELaxkZqFu"/>
<div class="info">Formaggio pecorino stagionato a pasta friabile, sapore deciso.</div>
<h4 style="margin:6px 0 0;">Gran Sirai</h4>
<p style="margin:0;color:#444;">‚Ç¨20,00/kg</p>
</div>
<div class="card-overlay">
<img alt="Cuor di Latte" src="https://chat.openai.com/cdn/pub/file-HQBXRUi2L1QgZdcP6U56Ay"/>
<div class="info">Caprino semistagionato, delicato e profumato.</div>
<h4 style="margin:6px 0 0;">Cuor di Latte</h4>
<p style="margin:0;color:#444;">‚Ç¨19,00/kg</p>
</div>
<div class="card-overlay">
<img alt="Sirai Gigante" src="https://chat.openai.com/cdn/pub/file-1wCxwZoPwC9DyjWfGABUYk"/>
<div class="info">Pecorino stagionato di grandi dimensioni, sapore robusto.</div>
<h4 style="margin:6px 0 0;">Sirai Gigante</h4>
<p style="margin:0;color:#444;">‚Ç¨22,00/kg</p>
</div>
<div class="card-overlay">
<img alt="Vecchio Capraro" src="https://chat.openai.com/cdn/pub/file-H1exrZC8Gr2PgXLJdaScJo"/>
<div class="info">Formaggio di capra a lunga stagionatura, gusto complesso e aromatico.</div>
<h4 style="margin:6px 0 0;">Vecchio Capraro</h4>
<p style="margin:0;color:#444;">‚Ç¨21,00/kg</p>
</div>
<div class="card-overlay">
<img alt="Cuore del Sulcis" src="https://chat.openai.com/cdn/pub/file-U1iwj7gPruJG6HbJN72ju1"/>
<div class="info">Pecorino da tavola, sapore leggero e profumato, ideale anche grattugiato.</div>
<h4 style="margin:6px 0 0;">Cuore del Sulcis</h4>
<p style="margin:0;color:#444;">‚Ç¨18,00/kg</p>
</div>
<div class="prodotto" style="width:200px;text-align:center;">
<img alt="Sulcitano" src="https://chat.openai.com/cdn/pub/file-ABLRUJKxYjtj1kf2kU7Ffp" style="width:200px;height:auto;border-radius:8px;" title="Formaggio pecorino sardo 100% latte ovino, sapore equilibrato."/>
<h4 style="margin:0.5rem 0 0;">Sulcitano</h4>
<p style="margin:0;color:#444;">‚Ç¨18,00/kg</p>
</div>
<div class="prodotto" style="width:200px;text-align:center;">
<img alt="Biancoarrosto" src="https://chat.openai.com/cdn/pub/file-WnAwhyrixLJNE8fXWcxtQR" style="width:200px;height:auto;border-radius:8px;" title="Pecorino da griglia con crosta sottile, ottimo per arrosti e piastra."/>
<h4 style="margin:0.5rem 0 0;">Biancoarrosto</h4>
<p style="margin:0;color:#444;">‚Ç¨17,00/kg</p>
</div>
<div class="prodotto" style="width:200px;text-align:center;">
<img alt="Provola di Orotelli" src="https://chat.openai.com/cdn/pub/file-M6kxVPbo2VGqbKamp4S9W2" style="width:200px;height:auto;border-radius:8px;" title="Provola affumicata prodotta in Sardegna, gusto delicato e avvolgente."/>
<h4 style="margin:0.5rem 0 0;">Provola di Orotelli</h4>
<p style="margin:0;color:#444;">‚Ç¨16,00/kg</p>
</div>
<div class="prodotto" style="width:200px;text-align:center;">
<img alt="Gran Sirai" src="https://chat.openai.com/cdn/pub/file-48PDY9p9APKPqELaxkZqFu" style="width:200px;height:auto;border-radius:8px;" title="Formaggio pecorino stagionato a pasta friabile, sapore deciso."/>
<h4 style="margin:0.5rem 0 0;">Gran Sirai</h4>
<p style="margin:0;color:#444;">‚Ç¨20,00/kg</p>
</div>
<div class="prodotto" style="width:200px;text-align:center;">
<img alt="Cuor di Latte" src="https://chat.openai.com/cdn/pub/file-HQBXRUi2L1QgZdcP6U56Ay" style="width:200px;height:auto;border-radius:8px;" title="Caprino semistagionato, delicato e profumato."/>
<h4 style="margin:0.5rem 0 0;">Cuor di Latte</h4>
<p style="margin:0;color:#444;">‚Ç¨19,00/kg</p>
</div>
<div class="prodotto" style="width:200px;text-align:center;">
<img alt="Sirai Gigante" src="https://chat.openai.com/cdn/pub/file-1wCxwZoPwC9DyjWfGABUYk" style="width:200px;height:auto;border-radius:8px;" title="Pecorino stagionato di grandi dimensioni, sapore robusto."/>
<h4 style="margin:0.5rem 0 0;">Sirai Gigante</h4>
<p style="margin:0;color:#444;">‚Ç¨22,00/kg</p>
</div>
<div class="prodotto" style="width:200px;text-align:center;">
<img alt="Vecchio Capraro" src="https://chat.openai.com/cdn/pub/file-H1exrZC8Gr2PgXLJdaScJo" style="width:200px;height:auto;border-radius:8px;" title="Formaggio di capra a lunga stagionatura, gusto complesso e aromatico."/>
<h4 style="margin:0.5rem 0 0;">Vecchio Capraro</h4>
<p style="margin:0;color:#444;">‚Ç¨21,00/kg</p>
</div>
<div class="prodotto" style="width:200px;text-align:center;">
<img alt="Cuore del Sulcis" src="https://chat.openai.com/cdn/pub/file-U1iwj7gPruJG6HbJN72ju1" style="width:200px;height:auto;border-radius:8px;" title="Pecorino da tavola, sapore leggero e profumato, ideale anche grattugiato."/>
<h4 style="margin:0.5rem 0 0;">Cuore del Sulcis</h4>
<p style="margin:0;color:#444;">‚Ç¨18,00/kg</p>
</div>
<div class="card-container">
<div class="card">
<img alt="Vecchio Capraro" src="https://images.openai.com/thumbnails/e2612354a9f11115f0fd444ca441070b.jpeg"/>
<h3>Vecchio Capraro</h3>
<p>‚Ç¨12.00</p>
<button onclick="addToCart('Vecchio Capraro', 12.00, parseInt(document.getElementById('qty1').value))">Aggiungi al carrello</button>
</div>
<div class="card">
<img alt="Cuor di Latte" src="https://images.openai.com/thumbnails/561ca8fe4a0a0e02deb1b6bfb4915d74.jpeg"/>
<h3>Cuor di Latte</h3>
<p>‚Ç¨8.00</p>
<button onclick="addToCart('Cuor di Latte', 8.00, parseInt(document.getElementById('qty2').value))">Aggiungi al carrello</button>
</div>
</div>
</section>
</main>
<footer>
<p>¬© 2025 ZARA FORMAGGI di Zara Maurizio - Tutti i diritti riservati</p>
</footer>
<!-- Leaflet JS -->
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js">
    const cart = [];

    function toggleCart() {
      const cartSection = document.getElementById("cart-section");
      cartSection.style.display = cartSection.style.display === "block" ? "none" : "block";
      renderCart();
    }

    function addToCart(name, price, quantity) {
      const existing = cart.find(item => item.name === name);
      if (existing) {
        existing.quantity += quantity;
      } else {
        cart.push({ name, price, quantity });
      }
      renderCart();
    }

    function renderCart() {
      const container = document.getElementById("cart-items");
      container.innerHTML = "";
      cart.forEach((item, i) => {
        const div = document.createElement("div");
        div.className = "cart-item";
        div.innerHTML = `
          ${item.name} (${item.quantity}) ‚Ç¨${(item.price * item.quantity).toFixed(2)}
          <div>
            <button onclick="changeQty(${i}, 1)">+</button>
            <button onclick="changeQty(${i}, -1)">-</button>
            <button onclick="removeItem(${i})">x</button>
          </div>`;
        container.appendChild(div);
      });
    }

    function changeQty(index, delta) {
      cart[index].quantity += delta;
      if (cart[index].quantity <= 0) cart.splice(index, 1);
      renderCart();
    }

    function removeItem(index) {
      cart.splice(index, 1);
      renderCart();
    }

    function submitOrder() {
      alert("Ordine inviato! (funzione dimostrativa)");
    }

    function downloadPDF() {
      let content = "Ordine Zara Formaggi\n\n";
      cart.forEach(item => {
        content += `${item.name} - Quantit√†: ${item.quantity}, Prezzo totale: ‚Ç¨${(item.price * item.quantity).toFixed(2)}\n`;
      });
      const blob = new Blob([content], { type: "application/pdf" });
      const link = document.createElement("a");
      link.href = URL.createObjectURL(blob);
      link.download = "ordine_zara_formaggi.pdf";
      link.click();
    }


    function simulatePayment() {
      alert("Pagamento effettuato con successo (simulato).");
      submitOrder();
    }

    function submitOrder() {
      const name = document.getElementById("first-name").value;
      const surname = document.getElementById("last-name").value;
      const phone = document.getElementById("phone").value;
      const email = document.getElementById("email").value;
      const address = document.getElementById("address").value;
      const pickup = document.getElementById("pickup").checked;

      let content = `Ordine da: ${name} ${surname}\nEmail: ${email}\nTelefono: ${phone}\n`;
      content += pickup ? "Ritiro in negozio\n" : `Consegna a: ${address}\n`;
      content += "\nProdotti:\n";

      cart.forEach(item => {
        content += `- ${item.name} x${item.quantity} (‚Ç¨${(item.price * item.quantity).toFixed(2)})\n`;
      });

      alert("Email inviata (simulazione):\n\n" + content);
      // Qui si integrerebbe invio email reale via backend
    }

</script>
<script>
    let mapInitialized = false;
    let map;

    function showSection(id) {
      document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
      document.getElementById(id)?.classList.add('active');

      if (id === 'dove') {
        if (!mapInitialized) {
          const coords = [39.3117602, 8.5351056];
          map = L.map('map').setView(coords, 18);
          L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '¬© OpenStreetMap contributors'
          }).addTo(map);
          L.marker(coords).addTo(map).bindPopup('Via Gramsci, Mercato Civico - Iglesias, Sardegna').openPopup();
          mapInitialized = true;
        } else {
          setTimeout(() => map.invalidateSize(), 200);
        }
      }
    }
  
    const cart = [];

    function toggleCart() {
      const cartSection = document.getElementById("cart-section");
      cartSection.style.display = cartSection.style.display === "block" ? "none" : "block";
      renderCart();
    }

    function addToCart(name, price, quantity) {
      const existing = cart.find(item => item.name === name);
      if (existing) {
        existing.quantity += quantity;
      } else {
        cart.push({ name, price, quantity });
      }
      renderCart();
    }

    function renderCart() {
      const container = document.getElementById("cart-items");
      container.innerHTML = "";
      cart.forEach((item, i) => {
        const div = document.createElement("div");
        div.className = "cart-item";
        div.innerHTML = `
          ${item.name} (${item.quantity}) ‚Ç¨${(item.price * item.quantity).toFixed(2)}
          <div>
            <button onclick="changeQty(${i}, 1)">+</button>
            <button onclick="changeQty(${i}, -1)">-</button>
            <button onclick="removeItem(${i})">x</button>
          </div>`;
        container.appendChild(div);
      });
    }

    function changeQty(index, delta) {
      cart[index].quantity += delta;
      if (cart[index].quantity <= 0) cart.splice(index, 1);
      renderCart();
    }

    function removeItem(index) {
      cart.splice(index, 1);
      renderCart();
    }

    function submitOrder() {
      alert("Ordine inviato! (funzione dimostrativa)");
    }

    function downloadPDF() {
      let content = "Ordine Zara Formaggi\n\n";
      cart.forEach(item => {
        content += `${item.name} - Quantit√†: ${item.quantity}, Prezzo totale: ‚Ç¨${(item.price * item.quantity).toFixed(2)}\n`;
      });
      const blob = new Blob([content], { type: "application/pdf" });
      const link = document.createElement("a");
      link.href = URL.createObjectURL(blob);
      link.download = "ordine_zara_formaggi.pdf";
      link.click();
    }


    function simulatePayment() {
      alert("Pagamento effettuato con successo (simulato).");
      submitOrder();
    }

    function submitOrder() {
      const name = document.getElementById("first-name").value;
      const surname = document.getElementById("last-name").value;
      const phone = document.getElementById("phone").value;
      const email = document.getElementById("email").value;
      const address = document.getElementById("address").value;
      const pickup = document.getElementById("pickup").checked;

      let content = `Ordine da: ${name} ${surname}\nEmail: ${email}\nTelefono: ${phone}\n`;
      content += pickup ? "Ritiro in negozio\n" : `Consegna a: ${address}\n`;
      content += "\nProdotti:\n";

      cart.forEach(item => {
        content += `- ${item.name} x${item.quantity} (‚Ç¨${(item.price * item.quantity).toFixed(2)})\n`;
      });

      alert("Email inviata (simulazione):\n\n" + content);
      // Qui si integrerebbe invio email reale via backend
    }

</script>
<script src="https://www.paypal.com/sdk/js?client-id=sb¬§cy=EUR"></script>
<script>
      function prepareOrder() {
        let content = "";
        cart.forEach(item => {
          content += `${item.name} x${item.quantity} (‚Ç¨${(item.price * item.quantity).toFixed(2)})\n`;
        });
        document.getElementById("ordine-dettaglio").value = content;
      }

      paypal.Buttons({
        createOrder: function(data, actions) {
          const total = cart.reduce((sum, item) => sum + item.price * item.quantity, 0).toFixed(2);
          return actions.order.create({
            purchase_units: [{
              amount: { value: total }
            }]
          });
        },
        onApprove: function(data, actions) {
          return actions.order.capture().then(function(details) {
            alert('Pagamento completato da ' + details.payer.name.given_name);
            prepareOrder();
            document.getElementById("checkout-form").submit();
          });
        }
      }).render('#paypal-button-container');
    </script>
<script>
document.addEventListener('DOMContentLoaded', function () {
  const cards = document.querySelectorAll('.card-overlay');
  cards.forEach(card => {
    card.addEventListener('click', function (e) {
      const infoBox = this.querySelector('.info');
      const alreadyVisible = infoBox.style.opacity === '1';
      // Nascondi tutte le info
      document.querySelectorAll('.card-overlay .info').forEach(i => i.style.opacity = '0');
      // Mostra solo se non gi√† visibile
      if (!alreadyVisible) {
        infoBox.style.opacity = '1';
        e.stopPropagation();
      }
    });
  });
  document.body.addEventListener('click', function () {
    document.querySelectorAll('.card-overlay .info').forEach(i => i.style.opacity = '0');
  });
});
</script>
<script>
function aggiornaPesoGenerico(selectId, labelId) {
  const pesoTesto = {
    "0.125": "1/8 di forma = circa 500g",
    "0.25":  "1/4 di forma = circa 1kg",
    "0.5":   "1/2 forma = circa 2kg",
    "1":     "1 forma intera = circa 4kg"
  };
  const valore = document.getElementById(selectId).value;
  document.getElementById(labelId).innerText = pesoTesto[valore];
}
</script>
<script>
document.addEventListener("DOMContentLoaded", () => {
  const sections = ["formaggi", "salumi", "altri-prodotti"];
  const navLinks = document.querySelectorAll(".menu-prodotti a");

  function highlightSection() {
    let scrollY = window.pageYOffset;
    sections.forEach(id => {
      const section = document.getElementById(id);
      if (section && scrollY >= section.offsetTop - 60) {
        navLinks.forEach(link => link.classList.remove("active"));
        const activeLink = document.querySelector(`.menu-prodotti a[href="#${id}"]`);
        if (activeLink) activeLink.classList.add("active");
      }
    });
  }

  window.addEventListener("scroll", highlightSection);
});
</script>
<style>
.menu-prodotti a.active {
  font-weight: bold;
  text-decoration: underline;
  color: #c00;
}
</style>
<script>
function renderCart() {
  const cartSection = document.getElementById("cart-items");
  cartSection.innerHTML = "";
  let total = 0;

  cart.forEach((item, index) => {
    const itemDiv = document.createElement("div");
    itemDiv.innerHTML = `
      <strong>${item.name}</strong> - Quantit√†: ${item.quantity} - Prezzo: ‚Ç¨${(item.price * item.quantity).toFixed(2)}
      <button onclick="changeQuantity(${index}, 1)">+</button>
      <button onclick="changeQuantity(${index}, -1)">-</button>
      <button onclick="removeFromCart(${index})">x</button>
    `;
    cartSection.appendChild(itemDiv);
    total += item.price * item.quantity;
  });

  // Extra costi
  if (document.getElementById("confezione-regalo")?.checked) {
    total += 5;
  }
  if (document.getElementById("sottovuoto")?.checked) {
    total += 0.5;
  }

  document.getElementById("cart-total").innerText = "Totale: ‚Ç¨" + total.toFixed(2);
}

function addToCart(name, price, quantity) {
  const existing = cart.findIndex(i => i.name === name);
  if (existing >= 0) {
    cart[existing].quantity += quantity;
  } else {
    cart.push({ name, price, quantity });
  }
  renderCart();
}

function removeFromCart(index) {
  cart.splice(index, 1);
  renderCart();
}

function changeQuantity(index, delta) {
  cart[index].quantity += delta;
  if (cart[index].quantity <= 0) {
    removeFromCart(index);
  } else {
    renderCart();
  }
}

let cart = [];

function aggiornaTotale() {
  renderCart(); // Riusa renderCart per aggiornare i costi
}
</script>

<script>
function inviaOrdine() {
  let total = 0;
  cart.forEach(item => total += item.price * item.quantity);
  if (document.getElementById("confezione-regalo")?.checked) total += 5;
  if (document.getElementById("sottovuoto")?.checked) total += 0.5;

  const europa = document.getElementById("destinazione-europa")?.checked;
  const minimo = europa ? 140 : 90;

  if (total < minimo) {
    alert("L'ordine minimo √® di ‚Ç¨" + minimo.toFixed(2) + (europa ? " per l'Europa." : " per l'Italia."));
    return false;
  }

  mostraRiepilogoOrdine();
  return false;
}
</script>

<section id="riepilogo-ordine" style="display:none; margin-top: 40px;">
<h2>üßæ Riepilogo Ordine</h2>
<div id="riepilogo-dettagli" style="margin-bottom: 20px;"></div>
<button onclick="finalizzaOrdine()">Conferma e Invia Ordine</button>
</section>

<script>
function mostraRiepilogoOrdine() {
  const div = document.getElementById("riepilogo-dettagli");
  let html = "<ul>";
  let total = 0;
  cart.forEach(item => {
    const subtot = item.price * item.quantity;
    total += subtot;
    html += `<li>${item.name} x${item.quantity} = ‚Ç¨${subtot.toFixed(2)}</li>`;
  });
  if (document.getElementById("confezione-regalo")?.checked) {
    html += "<li>Confezione regalo = ‚Ç¨5.00</li>";
    total += 5;
  }
  if (document.getElementById("sottovuoto")?.checked) {
    html += "<li>Sottovuoto = ‚Ç¨0.50</li>";
    total += 0.5;
  }
  html += `</ul><strong>Totale: ‚Ç¨${total.toFixed(2)}</strong>`;
  div.innerHTML = html;
  document.getElementById("riepilogo-ordine").style.display = "block";
}

function finalizzaOrdine() {
  alert("Ordine confermato! Grazie per l'acquisto.");
  location.reload();  // simula invio e reset
}
</script>
</body>
</html>
